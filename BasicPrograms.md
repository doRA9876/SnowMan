# 基本的な問題

* 雪同士がくっつく状況を考えると、ある程度の力でぶつける必要があるため、接触だけでくっつくことは考えられない。そこの処理がまだ考えられない。

* くっついているときの状態があまり想像できない。基本的にオブジェクトは球体であることを想像しているが、くっついているときはそれぞれがすこし埋まっているべきだと感じる。  

→表示する半径と実際に接触判定をおこす半径を変える。接触判定をする半径を表示される半径よりも小さくすることで、お互いがのめりこむように見える。

## 雪の表面にポリゴンを張る

1. 雪玉の半径をrとし、２つの雪玉の中心が2r以下の距離の時くっついていると仮定する。
2. くっついているかを無向グラフで示す。基準球の中心Oから2r以内の雪玉を探す。ここで目的球の中心Pが基準球Oから2r以内かどうかを判別するには、基準球の位置を(xo, yo, zo)、目的球の位置を(xp, yp, zp)とすると r^2<(xp-xo)^2+(yp-yo)^2+(zp-zo)^2 により即座に求められる。
3. これによって任意の点にくっついている点をすべて求める。

## 雪の表面にポリゴンを張るその２

1. 雪玉の半径をrとし、２つの雪玉の中心が2r以下の距離の時くっついていると仮定する。
2. 背後に一辺r/2の格子を張る。この格子一つ一つに対して雪玉が触れていればフラグを立てる。
3. 雪玉を全て削除したのち、フラグが立っている格子を白で塗る。